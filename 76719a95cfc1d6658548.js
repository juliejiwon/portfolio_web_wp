import"./style.css";import"./css/main.css";import*as THREE from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";import*as dat from"dat.gui";import{loadImage}from"./image";import*as $ from"jquery";import{gsap}from"gsap";import enlight from"/static/images/enlight_1.jpg";import enlight2 from"/static/images/enlight_2.png";import loeyb from"/static/images/loeyb_1.png";import mego from"/static/images/mego_pc.png";import luv from"/static/images/luv.png";import loeyb2 from"/static/images/loeyb_2.png";import loeyb3 from"/static/images/loeyb_3.png";import luv1 from"/static/images/luv_1.png";import storyfund from"/static/images/Storyfund.png";import AImeetup from"/static/images/AIMeetup_poster.png";import ilhwa from"/static/images/ilhwa_1.png";import diamond1 from"/static/texture/diamond1.jpeg";import profilePic from"/static/images/profile_pic.jpeg";$("img.loeyb, img.luv, img.mego, img.storyfund, img.enlight").on("click",(function(){gsap.to(sphere.position,{duration:1.4,z:1.6,y:0}),gsap.to(sphere1.position,{duration:1.6,z:1.6,y:0})})),$(".about").on("click",(function(){gsap.to(sphere.position,{duration:1.4,z:1.6,y:.45}),gsap.to(sphere1.position,{duration:1.4,z:1.6,y:.45})}));const textureLoader=new THREE.TextureLoader,normalTexture=textureLoader.load(diamond1);loadImage("img.enlight",enlight),loadImage("img.enlight2",enlight2),loadImage("img.loeyb",loeyb),loadImage("img.mego",mego),loadImage("img.luv",luv),loadImage("img.loeyb2",loeyb2),loadImage("img.loeyb3",loeyb3),loadImage("img.luv1",luv1),loadImage("img.AImeetup",AImeetup),loadImage("img.storyfund",storyfund),loadImage("img.ilhwa",ilhwa),loadImage("img.profilePic",profilePic);const pink1=new THREE.Color(155e5),lightblue2=new THREE.Color(16055039),canvas=document.querySelector("canvas.webgl"),scene=new THREE.Scene,geometry=new THREE.SphereBufferGeometry(.32,32,32),geometry1=new THREE.SphereBufferGeometry(.8,28,20),particlesGeometry=new THREE.BufferGeometry,particlesCnt=4e3,posArray=new Float32Array(12e3);for(let e=0;e<12e3;e++)posArray[e]=5*(Math.random()-.5);particlesGeometry.setAttribute("position",new THREE.BufferAttribute(posArray,3));const material=new THREE.MeshStandardMaterial;material.metalness=-.05,material.roughness=.4,material.normalMap=normalTexture,material.color=lightblue2;const material1=new THREE.PointsMaterial;material1.size=.005,material1.color=lightblue2,material1.transparent=!0,material1.opacity=.8;const sphere=new THREE.Mesh(geometry,material),sphere1=new THREE.Points(geometry1,material1),particlesMesh=new THREE.Points(particlesGeometry,material1);sphere.position.y=.2,sphere1.position.y=.2,scene.add(sphere,particlesMesh,sphere1);const pointLight=new THREE.PointLight(16777215,.1);pointLight.position.x=2,pointLight.position.y=3,pointLight.position.z=4,scene.add(pointLight);const pointLight2=new THREE.PointLight(12485358,2);pointLight2.position.set(-1,0,1),pointLight2.intensity=1,scene.add(pointLight2);const pointLight3=new THREE.PointLight(6326772,2);pointLight3.position.set(1,1,1),pointLight3.intensity=1,scene.add(pointLight3);const pointLight4=new THREE.PointLight(10938872,2);pointLight4.position.set(1,-1,0),pointLight4.intensity=1,scene.add(pointLight4);const sizes={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const camera=new THREE.PerspectiveCamera(75,sizes.width/sizes.height,.1,100);camera.position.x=0,camera.position.y=0,camera.position.z=2,scene.add(camera);const controls=new OrbitControls(camera,canvas);controls.enableDamping=!0;const renderer=new THREE.WebGLRenderer({canvas,alpha:!0});renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),document.addEventListener("mousemove",onDocumentMouseMove);let mouseX=1,mouseY=1,targetX=0,targetY=0;const windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;function onDocumentMouseMove(e){mouseX=.01*e.clientX,mouseY=.01*e.clientY}const clock=new THREE.Clock,tick=()=>{const e=clock.getElapsedTime();targetX=.001*mouseX,targetY=.001*mouseY,sphere.rotation.y=e*(1e-4*windowHalfX+targetX),sphere1.rotation.y=e*(1e-4*windowHalfX+targetX),particlesMesh.rotation.y=.005*e,particlesMesh.rotation.x=.005*e,controls.update(),sphere.rotation.y+=.5*(targetX-sphere.rotation.y),renderer.render(scene,camera),window.requestAnimationFrame(tick)};tick();var media=$("video").not("[autoplay='autoplay']"),tolerancePixel=80;function checkMedia(){var e=$(window).scrollTop()+tolerancePixel,t=$(window).scrollTop()+$(window).height()-tolerancePixel;media.each((function(i,o){var n=$(this).offset().top,a=$(this).height()+n;e<a&&t>n?$(this).get(0).play():$(this).get(0).pause()}))}